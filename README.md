<p align="center">
<a href="https://github.com/GuoGuang/madao" target="blank">
    <img src="https://yd-note.oss-cn-beijing.aliyuncs.com/favicon.ico" height="90" alt="madaoo.com logo" />
</a>
</p>

<p align="center">
  <a href="#">
    <img src="https://img.shields.io/badge/jdk->=1.8-blue.svg" alt="vue">
  </a>
  <a href="#">
    <img src="https://img.shields.io/badge/license-GPL%20(%3E%3D%202)-blue" alt="vue">
  </a>
  <a href="#">
    <img src="https://img.shields.io/badge/springcloud-Finchley.SR2-brightgreen.svg" alt="element-ui">
  </a>
  <a href="#">
    <img src="https://img.shields.io/badge/springboot-2.0.2.RELEASE-brightgreen.svg" alt="license">
  </a>
</p>

## [æ€¥é€Ÿé¢„è§ˆ---ç›´è¾¾](https://madaoo.com)
> å¦‚æœå–œæ¬¢è®°å¾—ç»™ä¸ªstarå“¦ğŸŒŸ

æ›´å¤šå†…å®¹è¯·å…³æ³¨å…¬ä¼—å·ï¼š`ç é“äººç”Ÿ`

![æ¼”ç¤º](http://vue-admin-guoguang.oss-cn-shanghai.aliyuncs.com/images/demo.jpg)

æœ¬ä»“åº“åŸºäºspringã€spring-bootã€spring-cloudç­‰å…¨å®¶æ¡¶æ¨¡å—æ­å»º

## ä¸€ã€æŠ€æœ¯é€‰å‹
1. æ ¸å¿ƒæ¡†æ¶ï¼šSpringBootã€SpringCloudå…¨å®¶æ¡¶ã€Pythonæä¾›ç”µå½±æœåŠ¡
2. å®‰å…¨æ¡†æ¶ï¼šSpring Security
3. åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ï¼šElastic-job
4. æŒä¹…å±‚æ¡†æ¶ï¼šJpa
5. æ•°æ®åº“è¿æ¥æ± ï¼šDruid
6. æ•°æ®åº“/å­˜å‚¨ï¼šMysql8.0+ã€Redis
7. æ¶ˆæ¯é˜Ÿåˆ—ï¼šRabbitMQ
8. æ—¥å¿—ç®¡ç†ï¼šLogback
9. ä¸‰æ–¹æœåŠ¡ï¼š é‚®ä»¶æœåŠ¡ã€é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡ã€é˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨
10. è¿ç»´/é›†æˆ/éƒ¨ç½²ï¼šJenkinsã€Docker...

## äºŒã€å‰å°é¡¹ç›®è¯·ç§»æ­¥ 
- [åå°ç®¡ç†ç³»ç»Ÿ](https://github.com/GuoGuang/madao_admin_manage)
- [å‰å°åšå®¢](https://github.com/GuoGuang/madao)

## ä¸‰ã€å…¶ä»–å¼€æºä»“åº“
é¡¹ç›® | åœ°å€
---|---
IDEAæ’ä»¶ ï¼ˆIDEAå¸‚åœºæœç´¢ Generate Crud å®‰è£…ï¼‰ |  æ ¹æ®JPAå®ä½“ç±»ç”Ÿæˆåç«¯ä»£ç ï¼Œç®€å•å¿«æ· ğŸ‘‹
pinyinUtils | https://github.com/GuoGuang/pinyinUtils
åå°ç®¡ç†æ¡†æ¶ | https://github.com/GuoGuang/madao_admin_manage
æ•°æ®çˆ¬è™«é›†åˆ | https://github.com/GuoGuang/python-spider
å‰å°åšå®¢ | https://github.com/GuoGuang/madao
å¦‚ä½•å†™å¥½å•å…ƒæµ‹è¯• | https://github.com/GuoGuang/spring_junit_mockito_example


## å››ã€å¹³å°ç›®å½•ç»“æ„è¯´æ˜
```
â”œâ”€madao-common-parent----------------------------çˆ¶é¡¹ç›®ï¼Œå…¬å…±ä¾èµ–
â”‚  â”‚
â”‚  â”œâ”€madao-common--------------------------------å¾®æœåŠ¡å…¬å…±åŒ…
â”‚  â”‚
â”‚  â”œâ”€madao-service-config-------------------------å¾®æœåŠ¡é…ç½®ä¸­å¿ƒ+å¾®æœåŠ¡æ³¨å†Œä¸­å¿ƒ
â”‚  â”‚
â”‚  â”œâ”€madao-service-api---------------------------å¾®æœåŠ¡APIå·¥ç¨‹
â”‚  â”‚
â”‚  â”œâ”€madao-service-article-----------------------æ–‡ç« æœåŠ¡
â”‚  â”‚
â”‚  â”œâ”€madao-service-base--------------------------åŸºç¡€æœåŠ¡
â”‚  â”‚
â”‚  â”œâ”€madao-service-search------------------------æœç´¢æœåŠ¡
â”‚  â”‚
â”‚  â”œâ”€madao-service-user--------------------------RBACç”¨æˆ·æœåŠ¡
â”‚  â”‚
â”‚  â”œâ”€madao-web-gateway---------------------------å¾®æœåŠ¡ç½‘å…³ä¸­å¿ƒ

```
### å‰ç½®ç¯å¢ƒ
1. IDEï¼šIntelliJ IDEA
2. JDKï¼š1.8+ 
3. å·¥å…·ï¼šMaven

## äº”ã€å¿«é€Ÿå¼€å§‹
> æœ¬é¡¹ç›®éœ€è¦ä½ æœ‰ä¸€å®šå¾—å¼€å‘ç»éªŒï¼Œå¯¹SpringCloudæœ‰åŸºç¡€çš„è®¤è¯†ï¼Œæ­¤é¡¹ç›®ä»…æä¾›å­¦ä¹ ä½¿ç”¨ã€‚

> å¼€æºä¸æ˜“ï¼Œå¦‚æœæ­¤é¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œéº»çƒ¦ç‚¹ä¸ªstarç»™ä½œè€…ä¸€ç‚¹åŠ¨åŠ›ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚:sparkles:

### 1. å¯¼å…¥æœåŠ¡
![å¯¼å…¥æœåŠ¡](https://github.com/GuoGuang/madao_service/blob/develop/madao-common-parent/image/service.png)
ç‚¹å‡» "import module" å°†æœåŠ¡ä¸€ä¸€å¯¼å…¥ï¼Œå¦‚æœä½ å«Œä¸€ä¸ªä¸ªå¯¼å…¥éº»çƒ¦ï¼Œå¯ä»¥åœ¨madao-common-parentçš„pom.xmlæ–‡ä»¶ä¸­æœ€åº•ä¸‹æŠŠ<modules>æ ‡ç­¾æ”¾å¼€ï¼Œä½†æ˜¯çœŸæ­£å¾®æœåŠ¡å¼€å‘ä¸€èˆ¬ä¸€ä¸ªå›¢é˜Ÿæˆ–è€…ä¸€ä¸ªäººè´Ÿè´£ä¸€ä¸ªæœåŠ¡ï¼Œæ²¡æœ‰ä¸€ä¸ªäººåŒæ—¶å¼€å‘å¤šä¸ªæœåŠ¡æƒ…å†µï¼Œæ¯•ç«Ÿæ˜¯ä¸ªäººåšå®¢é¡¹ç›®ï¼Œå¯¼å…¥æ–¹å¼å¯ä»¥è‡ªå·±å®šã€‚
```
// install
mvn -B -DskipTests install -f madao-common-parent -Dmaven.test.skip=true  
æˆ–è€… 
ideaé‡Œ mavené€‰é¡¹é€‰ä¸­madao-common-parent install éœ€è¦åœ¨Maven Projectsç•Œé¢é‡Œä¸­é€‰ä¸­"è·³è¿‡æµ‹è¯•"
```

### 2. åˆå§‹åŒ–æ•°æ®åº“
å¯¼å…¥ç³»ç»Ÿæ ¹è·¯å¾„ä¸‹madao.sqlæ–‡ä»¶åˆ°æ•°æ®åº“ä¸­

### 3. åˆå§‹åŒ–ä¸­é—´ä»¶
ä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®å¿…ç„¶ä¼šä¾èµ–ä¼—å¤šä¸­é—´ä»¶ï¼Œæœ¬é¡¹ç›®ä¹Ÿä¸ä¾‹å¤–ï¼Œè¿™é‡Œå‡è®¾ä½ ä¼šä½¿ç”¨docker,å¦‚æœä½ è¿˜æ²¡æœ‰æ¥è§¦åˆ°docker,é‚£ä¹ˆå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« [Dockerå…¥é—¨](https://madaoo.com/article/1263480522076721152)

    ä½¿ç”¨dockerå¯åŠ¨mysqlã€redis
    ```
    // mysql
    docker run --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=root -d mysql --lower_case_table_names=1
    
    // redis
    docker run --name myredis -d -p 6379:6379 -v /data/redis/redis.conf:/etc/redis/redis.conf -v /data/redis/data:/data redis  redis-server /etc/redis/redis.conf --requirepass "root" --appendonly yes
    
    // rebbitmq æš‚æ—¶æ²¡æœ‰ç”¨åˆ°ï¼Œå¯ä»¥å…ˆpass
    docker run -d --name rabbit-server -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -p 5672:5672 -p 15672:15672 rabbitmq:3-management
    
    ```

### 4. é…ç½®æ³¨å†Œä¸­å¿ƒè¿œç¨‹ä»“åº“
github forkæ­¤ä»“åº“[é…ç½®ä¸­å¿ƒ](https://github.com/GuoGuang/madao_config)
å°†é‡Œé¢çš„é…ç½®æ–‡ä»¶æ›´æ”¹ä¸ºä½ çš„åœ°å€ï¼Œé˜¿é‡Œäº‘ossåœ°å€æ²¡æœ‰çš„è¯å¯ä»¥æ³¨é‡Šæ‰

### 5.  é…ç½®æ³¨å†Œä¸­å¿ƒè¿œç¨‹åœ°å€
åœ¨madao-server-configæœåŠ¡ä¸­æ‰¾åˆ°bootstrap.ymlæ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹

```
spring:
  profiles:
    active: ${ACTIVE_PROFILE:dev}
  cloud:
    config:
      server:
        encrypt:
          enabled: true # å¯ç”¨configåŠ å¯†åŠŸèƒ½
        git:
          uri: ç¬¬2æ­¥é…ç½®çš„æ³¨å†Œä¸­å¿ƒè¿œç¨‹ä»“åº“åœ°å€
          searchPaths: ${spring.profiles.active}
          default-label: master
          username: ä½ çš„githubè´¦å·
          password: 'ä½ çš„githubå¯†ç '

      enabled: true    # å¼€å¯æ¶ˆæ¯è·Ÿè¸ª

# éå¯¹ç§°åŠ å¯†ï¼Œå°†ä¸‹é¢çš„é…ç½®æ³¨é‡Šã€‚å¦‚æœä¸Šé¢é…ç½®çš„"ä½ çš„githubå¯†ç "åœ°æ–¹æ˜¯æ˜æ–‡ï¼Œè¿™é‡Œå°±ä¸ç”¨ç®¡
# encrypt:
#   key-store:
#     location: classpath:xxx
#     alias: xxx
#     password: xxx
#     secret: xxx
```

### 6. å¯åŠ¨
ç¬¬ä¸€æ­¥é¦–å…ˆå¯åŠ¨madao-service-configæœåŠ¡ï¼Œè¿™ä¸ªæ˜¯æ³¨å†Œä¸­å¿ƒ+é…ç½®ä¸­å¿ƒï¼Œç„¶åå†å¯åŠ¨å…¶ä»–çš„æœåŠ¡ã€‚


## Swagger
[æœ¬åœ°è®¿é—®åœ°å€](http://127.0.0.1:8080/swagger-ui/)
é»˜è®¤è´¦å·ï¼šadmin å¯†ç ï¼špassword

### SpringSecurityæµç¨‹
å¤§è‡´äº†è§£ä¸€ä¸‹SpringSecurityçš„æµç¨‹ï¼Œæ–¹ä¾¿å¯¹æ•´ä¸ªé¡¹ç›®çš„äº†è§£
![Securityæ—¶åºå›¾](https://yd-note.oss-cn-beijing.aliyuncs.com/spring/Oauth%26SpringSecurity/SpringSecurity%20%E8%AE%A4%E8%AF%81%E6%B5%81%E7%A8%8B%E6%97%B6%E5%BA%8F%E5%9B%BE.png)


## å¸¸è§é—®é¢˜

### 1ã€å…³äºå†…å­˜é—®é¢˜
SpringCloudæ˜¯æ¯”è¾ƒåƒå†…å­˜çš„ï¼Œå¦‚æœä½ ä¸æŒ‡å®šå†…å­˜å¤§å°ï¼Œ8Gå†…å­˜ä¸€èˆ¬å¯3ã€4ä¸ªå°±æ»¡äº†ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é…ç½®ä¸‹æ¯ä¸ªæœåŠ¡å†…å­˜å¤§å°

æ‰“å¼€Environment config,å¦‚æœä½ ä¸æŒ‡å®šåœ¨å“ªæ‰“å¼€ï¼Œå‚è€ƒhttps://www.jetbrains.com/help/idea/2019.3/run-debug-configuration-junit.html?utm_campaign=IU&utm_content=2019.3&utm_medium=link&utm_source=product#configTab çš„VM options

ç±»ä¼¼ configã€gatewayã€eurekaã€ Oauth2Authenticationã€æœåŠ¡é…ç½®ä¸º -Xmx128m -Xms128m -Xmn50m 

å…¶ä»–çš„-Xmx236m -Xms236m -Xmn150m 

ä»¥ä¸Šé…ç½®è¯·ä¸è¦å†ç”Ÿäº§ä½¿ç”¨ï¼Œä»…ä½œä¸ºæœ¬åœ°å¼€å‘è°ƒè¯•ï¼Œä¸ºè§£å†³å†…å­˜ä¸è¶³é—®é¢˜çš„ï¼Œå½“ç„¶å¦‚æœä½ çš„å†…å­˜å¤Ÿå¤§ï¼Œå¯ä»¥å¿½ç•¥ä»¥ä¸Šé…ç½®

### 2ã€javax.annotation.processing.FilerException: Attempt to recreate a file for xxx
maven installä¹‹å‰å…ˆmaven clean


## å¯åŠ¨å¾®æœåŠ¡
### æ¶æ„å›¾
![æ¶æ„å›¾](https://github.com/GuoGuang/madao_service/blob/develop/madao-common-parent/image/%E6%9E%B6%E6%9E%84%E5%9B%BE1.png)
![æ¶æ„å›¾](https://github.com/GuoGuang/madao_service/blob/develop/madao-common-parent/image/%E6%9E%B6%E6%9E%84%E5%9B%BE2.png)

### æœåŠ¡ç›‘æ§å¹³å°
å¯åŠ¨ madao-service-monitor æœåŠ¡ 
è®¿é—® [åœ°å€](http://127.0.0.1:9002)
![å›¾1](https://github.com/GuoGuang/madao_service/blob/develop/madao-common-parent/image/Application.png)
![å›¾2](https://github.com/GuoGuang/madao_service/blob/develop/madao-common-parent/image/Wallboard.png)
![å›¾3](https://github.com/GuoGuang/madao_service/blob/develop/madao-common-parent/image/Details.png)

## æ›´æ–°æ—¥å¿—
### [20210204]
Spring-Cloud-Gateway é›†æˆ Swagger,æ”¯æŒè®¤è¯åè®¿é—®ï¼Œç”±ç½‘å…³ç»Ÿä¸€ç®¡ç†

### [20210412]
ç§»é™¤ä¸å¿…è¦å¾—ä¾èµ–ï¼Œé¡¹ç›®ç»“æ„é‡æ„

### [20210505]
å°†èµ„æºç¼“å­˜åŒ–ï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦