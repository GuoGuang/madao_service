spring:
  application:
    name: web-gateway
  sleuth:
    reactor:
      # 性能会下降很多，正式不建议使用 参考https://github.com/spring-cloud/spring-cloud-sleuth/issues/1806#issuecomment-744276034
      instrumentation-type: decorate_on_each
  profiles:
    active: ${ACTIVE_PROFILE:dev}
  autoconfigure:
    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
---
spring:
  cloud:
    config:
      discovery:
        enabled: false
      name: gateway #需要从github上读取的资源名称，注意没有yml后缀名
      label: master
      uri: http://localhost:9009/config  #SpringCloudConfig获取的服务地址
      profile: dev
  config:
    activate:
      on-profile: dev
logging:
  pattern:
    level: '%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-},%X{parentId:-},%mdc{req.method},%mdc{req.requestURI},%mdc{USER-ID}]'
---
spring:
  cloud:
    config:
      name: gateway
      label: master
      uri: http://121.36.158.84:9009/config
      profile: prod
  config:
    activate:
      on-profile: prod