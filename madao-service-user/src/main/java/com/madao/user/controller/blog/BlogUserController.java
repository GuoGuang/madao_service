package com.madao.user.controller.blog;

import com.madao.annotation.OptLog;
import com.madao.enums.OptLogType;
import com.madao.enums.StatusEnum;
import com.madao.model.dto.user.UserDto;
import com.madao.user.service.blog.BlogUserService;
import com.madao.utils.JsonData;
import com.madao.utils.security.SecurityUtils;
import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.Parameter;
import io.swagger.v3.oas.annotations.Parameters;
import io.swagger.v3.oas.annotations.tags.Tag;
import lombok.AllArgsConstructor;
import org.apache.commons.lang3.StringUtils;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.*;

import java.util.HashMap;

/**
 * @author GuoGuang
 * @公众号 码道人生
 * @gitHub https://github.com/GuoGuang
 * @website https://madaoo.com
 * @created 2019-09-29 7:37
 */
@Tag(name = "用户管理")
@RestController
@RequestMapping(value = "/api/su")
@AllArgsConstructor
public class BlogUserController {

	private final BlogUserService blogUserService;

	@GetMapping("/admin")
	@Operation(summary = "获取作者信息", description = "Admin")
	public JsonData<UserDto> findAdminInfo() {
		UserDto byId = blogUserService.findByAccount("admin");
		return JsonData.success(byId);
	}

	@GetMapping
	@Operation(summary = "获取用户信息", description = "Admin")
	public JsonData<UserDto> getUserInfo() {
		UserDto result = blogUserService.findById(SecurityUtils.getCurrentUserId());
		return JsonData.success(result);
	}

	@GetMapping("/admin/repo")
	@Operation(summary = "查询Github库", description = "Admin")
	public JsonData<String> findRepos() {
		// https://api.github.com/users/GuoGuang/repos
		String repos = "[{\"id\":169408419,\"node_id\":\"MDEwOlJlcG9zaXRvcnkxNjk0MDg0MTk=\",\"name\":\"madao\",\"full_name\":\"GuoGuang/madao\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/madao\",\"description\":\":tada: My blog, powered by @nuxt \",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/madao\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/madao/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/madao/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/madao/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/madao/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/madao/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/madao/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/madao/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/madao/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/madao/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/madao/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/madao/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/madao/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/madao/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/madao/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/madao/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/madao/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/madao/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/madao/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/madao/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/madao/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/madao/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/madao/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/madao/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/madao/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/madao/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/madao/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/madao/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/madao/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/madao/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/madao/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/madao/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/madao/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/madao/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/madao/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/madao/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/madao/deployments\",\"created_at\":\"2019-02-06T13:14:50Z\",\"updated_at\":\"2020-02-28T08:11:58Z\",\"pushed_at\":\"2020-03-05T16:03:34Z\",\"git_url\":\"git://github.com/GuoGuang/madao.git\",\"ssh_url\":\"git@github.com:GuoGuang/madao.git\",\"clone_url\":\"https://github.com/GuoGuang/madao.git\",\"svn_url\":\"https://github.com/GuoGuang/madao\",\"homepage\":\"http://139.9.155.54:3000/\",\"size\":45628,\"stargazers_count\":50,\"watchers_count\":50,\"language\":\"JavaScript\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":2,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":3,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":2,\"open_issues\":3,\"watchers\":50,\"default_branch\":\"master\"},{\"id\":164796316,\"node_id\":\"MDEwOlJlcG9zaXRvcnkxNjQ3OTYzMTY=\",\"name\":\"madao_admin_manage\",\"full_name\":\"GuoGuang/madao_admin_manage\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/madao_admin_manage\",\"description\":\":tada: VUE前后端分离管理系统\",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/madao_admin_manage/deployments\",\"created_at\":\"2019-01-09T05:45:12Z\",\"updated_at\":\"2020-02-28T17:33:26Z\",\"pushed_at\":\"2020-03-06T09:57:37Z\",\"git_url\":\"git://github.com/GuoGuang/madao_admin_manage.git\",\"ssh_url\":\"git@github.com:GuoGuang/madao_admin_manage.git\",\"clone_url\":\"https://github.com/GuoGuang/madao_admin_manage.git\",\"svn_url\":\"https://github.com/GuoGuang/madao_admin_manage\",\"homepage\":\"http://ibole.me\",\"size\":2510,\"stargazers_count\":13,\"watchers_count\":13,\"language\":\"Vue\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":5,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":2,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":5,\"open_issues\":2,\"watchers\":13,\"default_branch\":\"master\"},{\"id\":155992206,\"node_id\":\"MDEwOlJlcG9zaXRvcnkxNTU5OTIyMDY=\",\"name\":\"madao_config\",\"full_name\":\"GuoGuang/madao_config\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/madao_config\",\"description\":\":wrench: 微服务配置中心\",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/madao_config\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/madao_config/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/madao_config/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/madao_config/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/madao_config/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/madao_config/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/madao_config/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/madao_config/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/madao_config/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/madao_config/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/madao_config/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/madao_config/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/madao_config/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/madao_config/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/madao_config/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/madao_config/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/madao_config/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/madao_config/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/madao_config/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/madao_config/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/madao_config/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/madao_config/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/madao_config/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/madao_config/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/madao_config/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/madao_config/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/madao_config/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/madao_config/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/madao_config/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/madao_config/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/madao_config/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/madao_config/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/madao_config/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/madao_config/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/madao_config/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/madao_config/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/madao_config/deployments\",\"created_at\":\"2018-11-03T14:44:18Z\",\"updated_at\":\"2020-02-29T16:03:57Z\",\"pushed_at\":\"2020-02-29T16:03:56Z\",\"git_url\":\"git://github.com/GuoGuang/madao_config.git\",\"ssh_url\":\"git@github.com:GuoGuang/madao_config.git\",\"clone_url\":\"https://github.com/GuoGuang/madao_config.git\",\"svn_url\":\"https://github.com/GuoGuang/madao_config\",\"homepage\":\"\",\"size\":242,\"stargazers_count\":0,\"watchers_count\":0,\"language\":null,\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":2,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":2,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"},{\"id\":163474295,\"node_id\":\"MDEwOlJlcG9zaXRvcnkxNjM0NzQyOTU=\",\"name\":\"madao_service\",\"full_name\":\"GuoGuang/madao_service\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/madao_service\",\"description\":\":tada: A magical vue admin                                                                \",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/madao_service\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/madao_service/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/madao_service/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/madao_service/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/madao_service/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/madao_service/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/madao_service/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/madao_service/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/madao_service/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/madao_service/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/madao_service/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/madao_service/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/madao_service/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/madao_service/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/madao_service/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/madao_service/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/madao_service/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/madao_service/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/madao_service/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/madao_service/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/madao_service/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/madao_service/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/madao_service/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/madao_service/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/madao_service/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/madao_service/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/madao_service/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/madao_service/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/madao_service/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/madao_service/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/madao_service/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/madao_service/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/madao_service/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/madao_service/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/madao_service/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/madao_service/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/madao_service/deployments\",\"created_at\":\"2018-12-29T04:00:54Z\",\"updated_at\":\"2020-03-03T01:29:11Z\",\"pushed_at\":\"2020-03-06T13:03:19Z\",\"git_url\":\"git://github.com/GuoGuang/madao_service.git\",\"ssh_url\":\"git@github.com:GuoGuang/madao_service.git\",\"clone_url\":\"https://github.com/GuoGuang/madao_service.git\",\"svn_url\":\"https://github.com/GuoGuang/madao_service\",\"homepage\":\"http://madao.tech\",\"size\":4379,\"stargazers_count\":52,\"watchers_count\":52,\"language\":\"Java\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":17,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":1,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":17,\"open_issues\":1,\"watchers\":52,\"default_branch\":\"master\"},{\"id\":207821756,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMDc4MjE3NTY=\",\"name\":\"face-swap\",\"full_name\":\"GuoGuang/face-swap\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/face-swap\",\"description\":\"Implement machine learning-based face exchange in Python\",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/face-swap\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/face-swap/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/face-swap/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/face-swap/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/face-swap/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/face-swap/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/face-swap/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/face-swap/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/face-swap/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/face-swap/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/face-swap/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/face-swap/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/face-swap/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/face-swap/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/face-swap/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/face-swap/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/face-swap/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/face-swap/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/face-swap/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/face-swap/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/face-swap/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/face-swap/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/face-swap/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/face-swap/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/face-swap/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/face-swap/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/face-swap/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/face-swap/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/face-swap/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/face-swap/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/face-swap/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/face-swap/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/face-swap/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/face-swap/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/face-swap/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/face-swap/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/face-swap/deployments\",\"created_at\":\"2019-09-11T13:39:19Z\",\"updated_at\":\"2019-09-11T13:39:22Z\",\"pushed_at\":\"2019-09-11T13:39:21Z\",\"git_url\":\"git://github.com/GuoGuang/face-swap.git\",\"ssh_url\":\"git@github.com:GuoGuang/face-swap.git\",\"clone_url\":\"https://github.com/GuoGuang/face-swap.git\",\"svn_url\":\"https://github.com/GuoGuang/face-swap\",\"homepage\":null,\"size\":14,\"stargazers_count\":0,\"watchers_count\":0,\"language\":null,\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"},{\"id\":129608736,\"node_id\":\"MDEwOlJlcG9zaXRvcnkxMjk2MDg3MzY=\",\"name\":\"pinyinUtils\",\"full_name\":\"GuoGuang/pinyinUtils\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/pinyinUtils\",\"description\":\"汉字转换为拼音，支持多音字，首字母模式，支持标点模式，无标点模式，\",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/pinyinUtils/deployments\",\"created_at\":\"2018-04-15T12:38:41Z\",\"updated_at\":\"2020-02-06T12:45:42Z\",\"pushed_at\":\"2019-09-11T14:16:46Z\",\"git_url\":\"git://github.com/GuoGuang/pinyinUtils.git\",\"ssh_url\":\"git@github.com:GuoGuang/pinyinUtils.git\",\"clone_url\":\"https://github.com/GuoGuang/pinyinUtils.git\",\"svn_url\":\"https://github.com/GuoGuang/pinyinUtils\",\"homepage\":null,\"size\":482,\"stargazers_count\":50,\"watchers_count\":50,\"language\":\"Java\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":6,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":6,\"open_issues\":0,\"watchers\":50,\"default_branch\":\"master\"},{\"id\":204502675,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMDQ1MDI2NzU=\",\"name\":\"python-spider\",\"full_name\":\"GuoGuang/python-spider\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/python-spider\",\"description\":\":bug:  Crawl the aggregate project of each website\",\"fork\":false,\"url\":\"https://api.github.com/repos/GuoGuang/python-spider\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/python-spider/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/python-spider/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/python-spider/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/python-spider/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/python-spider/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/python-spider/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/python-spider/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/python-spider/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/python-spider/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/python-spider/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/python-spider/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/python-spider/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/python-spider/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/python-spider/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/python-spider/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/python-spider/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/python-spider/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/python-spider/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/python-spider/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/python-spider/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/python-spider/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/python-spider/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/python-spider/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/python-spider/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/python-spider/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/python-spider/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/python-spider/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/python-spider/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/python-spider/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/python-spider/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/python-spider/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/python-spider/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/python-spider/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/python-spider/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/python-spider/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/python-spider/deployments\",\"created_at\":\"2019-08-26T15:14:16Z\",\"updated_at\":\"2019-12-14T10:50:37Z\",\"pushed_at\":\"2020-01-28T23:06:46Z\",\"git_url\":\"git://github.com/GuoGuang/python-spider.git\",\"ssh_url\":\"git@github.com:GuoGuang/python-spider.git\",\"clone_url\":\"https://github.com/GuoGuang/python-spider.git\",\"svn_url\":\"https://github.com/GuoGuang/python-spider\",\"homepage\":null,\"size\":67,\"stargazers_count\":1,\"watchers_count\":1,\"language\":\"Python\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":2,\"license\":{\"key\":\"gpl-3.0\",\"name\":\"GNU General Public License v3.0\",\"spdx_id\":\"GPL-3.0\",\"url\":\"https://api.github.com/licenses/gpl-3.0\",\"node_id\":\"MDc6TGljZW5zZTk=\"},\"forks\":0,\"open_issues\":2,\"watchers\":1,\"default_branch\":\"master\"},{\"id\":222064186,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMjIwNjQxODY=\",\"name\":\"surmon.me\",\"full_name\":\"GuoGuang/surmon.me\",\"private\":false,\"owner\":{\"login\":\"GuoGuang\",\"id\":23237686,\"node_id\":\"MDQ6VXNlcjIzMjM3Njg2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/23237686?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/GuoGuang\",\"html_url\":\"https://github.com/GuoGuang\",\"followers_url\":\"https://api.github.com/users/GuoGuang/followers\",\"following_url\":\"https://api.github.com/users/GuoGuang/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/GuoGuang/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/GuoGuang/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/GuoGuang/subscriptions\",\"organizations_url\":\"https://api.github.com/users/GuoGuang/orgs\",\"repos_url\":\"https://api.github.com/users/GuoGuang/repos\",\"events_url\":\"https://api.github.com/users/GuoGuang/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/GuoGuang/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/GuoGuang/surmon.me\",\"description\":\"\uD83C\uDD92 My personal website and blog, powered by @nuxt\",\"fork\":true,\"url\":\"https://api.github.com/repos/GuoGuang/surmon.me\",\"forks_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/forks\",\"keys_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/teams\",\"hooks_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/hooks\",\"issue_events_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/events\",\"assignees_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/tags\",\"blobs_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/languages\",\"stargazers_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/stargazers\",\"contributors_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/contributors\",\"subscribers_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/subscribers\",\"subscription_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/subscription\",\"commits_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/merges\",\"archive_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/downloads\",\"issues_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/GuoGuang/surmon.me/deployments\",\"created_at\":\"2019-11-16T07:37:15Z\",\"updated_at\":\"2019-11-16T07:37:16Z\",\"pushed_at\":\"2019-11-13T07:44:22Z\",\"git_url\":\"git://github.com/GuoGuang/surmon.me.git\",\"ssh_url\":\"git@github.com:GuoGuang/surmon.me.git\",\"clone_url\":\"https://github.com/GuoGuang/surmon.me.git\",\"svn_url\":\"https://github.com/GuoGuang/surmon.me\",\"homepage\":\"https://surmon.me\",\"size\":87781,\"stargazers_count\":0,\"watchers_count\":0,\"language\":null,\"has_issues\":false,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":{\"key\":\"mit\",\"name\":\"MIT License\",\"spdx_id\":\"MIT\",\"url\":\"https://api.github.com/licenses/mit\",\"node_id\":\"MDc6TGljZW5zZTEz\"},\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"}]\n";
		return JsonData.success(repos);
	}

	@PostMapping("/register")
	@OptLog(operationType = OptLogType.ADD, operationName = "注册用户")
	@Operation(summary = "注册用户", description = "User")
	public JsonData<UserDto> registerUser(@RequestBody @Validated(UserDto.Register.class) UserDto userDto) {
		return JsonData.success(blogUserService.registerUser(userDto));
	}

	@PostMapping("/login/github")
	@OptLog(operationType = OptLogType.ADD, operationName = "注册并返回注册信息")
	@Operation(summary = "注册并返回注册信息", description = "User")
	public JsonData<UserDto> loginWithGithub(@RequestBody HashMap<String, Object> params) {
		return JsonData.success(blogUserService.loginWithGithub(params));
	}

	@GetMapping(value = "/{phone}")
	@Operation(summary = "按照手机号查询用户", description = "按照手机号查询用户")
	public JsonData<UserDto> findByPhone(@PathVariable String phone) {
		UserDto result = blogUserService.findByPhone(phone);
		return JsonData.success(result);
	}

	@PutMapping("/userInfo")
	@OptLog(operationType = OptLogType.MODIFY, operationName = "更新用户资料")
	@Operation(summary = "更新用户资料", description = "User")
	public JsonData<Void> updateByPrimaryKey(@RequestBody @Validated(UserDto.ChangeUserInfo.class) UserDto userDto) {
		blogUserService.updateByPrimaryKey(userDto, SecurityUtils.getCurrentUserId());
		return JsonData.success();
	}

	@PutMapping("/password/{userId}")
	@OptLog(operationType = OptLogType.MODIFY, operationName = "修改用户密码")
	@Operation(summary = "修改密码", description = "User")
	@Parameters({
			@Parameter(name = "newOnePassword", description = "第一次密码", required = true),
			@Parameter(name = "newTwoPassword", description = "第二次密码", required = true)
	})
	public JsonData<Void> changePassword(@PathVariable String userId, @RequestParam String oldPassword,
	                                     @RequestParam String newOnePassword, @RequestParam String newTwoPassword) {
		if (!StringUtils.equals(newOnePassword, newTwoPassword)) {
			return JsonData.failed(StatusEnum.TWICE_PASSWORD_NOT_MATCH);
		}
		blogUserService.changePassword(userId, oldPassword, newOnePassword);
		return JsonData.success();
	}

}
